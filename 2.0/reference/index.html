
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    

      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A global production pipeline for film and games">
      
      
        <link rel="canonical" href="http://getavalon.github.io/2.0/reference/">
      
      
        <meta name="author" content="Marcus Ottosson">
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.7.3">
    
<link href="https://fonts.googleapis.com/css?family=Roboto:400,500|Source+Code+Pro" rel="stylesheet">

    
      
        <title>Reference - Avalon</title>
      
    
    
      <script src="../../assets/javascript/modernizr.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application.palette.css">
      
      <link rel="stylesheet" href="../../assets/stylesheets/extra.css">
      <script src="../../assets/javascript/overrides.js"></script>
    
    
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="light-blue" data-md-color-accent="light-blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="http://getavalon.github.io" title="Avalon" class="md-logo md-header-nav__button">
            <img src="../../assets/images/logo.png" width="24" height="24">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <label class="custom-select">
                  <span class="md-header-nav__parent">
                    <select id="version-selector">
                      <option hidden selected value="none"></option>
                      <option value="1.0">1.0</option>
                      <option value="2.0">2.0</option>
                    </select>
                  </span>
                </label>
              
            
            Reference
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/getavalon/core" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      avalon/core
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." title="Home" class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../1.0/" title="1.0" class="md-tabs__link">
          1.0
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../" title="2.0" class="md-tabs__link md-tabs__link--active">
          2.0
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../polly/" title="Polly" class="md-tabs__link">
          Polly
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../colorbleed/" title="Colorbleed" class="md-tabs__link">
          Colorbleed
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-logo md-nav__button">
        <img src="../../assets/images/logo.png">
      </i>
    
    Avalon
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/getavalon/core" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      avalon/core
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      1.0
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        1.0
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../1.0/" title=" " class="md-nav__link">
       
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      2.0
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        2.0
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title=" " class="md-nav__link">
       
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guides/" title="Guides" class="md-nav__link">
      Guides
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/" title="Tutorials" class="md-nav__link">
      Tutorials
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Reference
      </label>
    
    <a href="./" title="Reference" class="md-nav__link md-nav__link--active">
      Reference
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#content-life-cycle" title="Content Life Cycle" class="md-nav__link">
    Content Life Cycle
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create" title="Create" class="md-nav__link">
    Create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import" title="Import" class="md-nav__link">
    Import
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export" title="Export" class="md-nav__link">
    Export
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#persist" title="Persist" class="md-nav__link">
    Persist
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#object-model" title="Object Model" class="md-nav__link">
    Object Model
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metadata" title="Metadata" class="md-nav__link">
    Metadata
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database" title="Database" class="md-nav__link">
    Database
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#schemas" title="Schemas" class="md-nav__link">
    Schemas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#project" title="Project" class="md-nav__link">
    Project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asset" title="Asset" class="md-nav__link">
    Asset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset" title="Subset" class="md-nav__link">
    Subset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version" title="Version" class="md-nav__link">
    Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#representation" title="Representation" class="md-nav__link">
    Representation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#container" title="Container" class="md-nav__link">
    Container
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#software" title="Software" class="md-nav__link">
    Software
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apps" title="Apps" class="md-nav__link">
    Apps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#library-api" title="Library API" class="md-nav__link">
    Library API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#host-api" title="Host API" class="md-nav__link">
    Host API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#information-hierarchy" title="Information hierarchy" class="md-nav__link">
    Information hierarchy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id" title="Id" class="md-nav__link">
    Id
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-inventory-api" title="Project Inventory API" class="md-nav__link">
    Project Inventory API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-configuration-api" title="Project Configuration API" class="md-nav__link">
    Project Configuration API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-executable-api" title="Project Executable API" class="md-nav__link">
    Project Executable API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-template-api" title="Project Template API" class="md-nav__link">
    Project Template API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#template-access" title="Template Access" class="md-nav__link">
    Template Access
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-template" title="Root Template" class="md-nav__link">
    Root Template
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-variables" title="Environment Variables" class="md-nav__link">
    Environment Variables
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#avalon-environment" title="Avalon Environment" class="md-nav__link">
    Avalon Environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inheritance-and-persistence" title="Inheritance and Persistence" class="md-nav__link">
    Inheritance and Persistence
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#path" title="PATH" class="md-nav__link">
    PATH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pythonpath" title="PYTHONPATH" class="md-nav__link">
    PYTHONPATH
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#events" title="Events" class="md-nav__link">
    Events
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-events" title="Custom Events" class="md-nav__link">
    Custom Events
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/" title="Tools" class="md-nav__link">
      Tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Polly
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Polly
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../polly/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../polly/assets/" title="Assets" class="md-nav__link">
      Assets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../polly/tutorials/" title="Tutorials" class="md-nav__link">
      Tutorials
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Colorbleed
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Colorbleed
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../colorbleed/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#content-life-cycle" title="Content Life Cycle" class="md-nav__link">
    Content Life Cycle
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create" title="Create" class="md-nav__link">
    Create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import" title="Import" class="md-nav__link">
    Import
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export" title="Export" class="md-nav__link">
    Export
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#persist" title="Persist" class="md-nav__link">
    Persist
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#object-model" title="Object Model" class="md-nav__link">
    Object Model
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metadata" title="Metadata" class="md-nav__link">
    Metadata
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database" title="Database" class="md-nav__link">
    Database
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#schemas" title="Schemas" class="md-nav__link">
    Schemas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#project" title="Project" class="md-nav__link">
    Project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asset" title="Asset" class="md-nav__link">
    Asset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset" title="Subset" class="md-nav__link">
    Subset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version" title="Version" class="md-nav__link">
    Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#representation" title="Representation" class="md-nav__link">
    Representation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#container" title="Container" class="md-nav__link">
    Container
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#software" title="Software" class="md-nav__link">
    Software
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apps" title="Apps" class="md-nav__link">
    Apps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#library-api" title="Library API" class="md-nav__link">
    Library API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#host-api" title="Host API" class="md-nav__link">
    Host API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#information-hierarchy" title="Information hierarchy" class="md-nav__link">
    Information hierarchy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id" title="Id" class="md-nav__link">
    Id
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-inventory-api" title="Project Inventory API" class="md-nav__link">
    Project Inventory API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-configuration-api" title="Project Configuration API" class="md-nav__link">
    Project Configuration API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-executable-api" title="Project Executable API" class="md-nav__link">
    Project Executable API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-template-api" title="Project Template API" class="md-nav__link">
    Project Template API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#template-access" title="Template Access" class="md-nav__link">
    Template Access
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-template" title="Root Template" class="md-nav__link">
    Root Template
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-variables" title="Environment Variables" class="md-nav__link">
    Environment Variables
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#avalon-environment" title="Avalon Environment" class="md-nav__link">
    Avalon Environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inheritance-and-persistence" title="Inheritance and Persistence" class="md-nav__link">
    Inheritance and Persistence
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#path" title="PATH" class="md-nav__link">
    PATH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pythonpath" title="PYTHONPATH" class="md-nav__link">
    PYTHONPATH
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#events" title="Events" class="md-nav__link">
    Events
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-events" title="Custom Events" class="md-nav__link">
    Custom Events
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <p><img alt="dropbox3" src="https://user-images.githubusercontent.com/2152766/27328354-cd712dd8-55a9-11e7-89b8-bb8b01b9c66d.png" /></p>
<p><br>
<br>
<br></p>
<h1 id="reference">Reference</h1>
<p>This section covers high-level aspects of Avalon in an information-oriented fashion.</p>
<div class="admonition note">
<p class="admonition-title">Looking for API reference?</p>
<p>See the <a href="https://getavalon.github.io/core">auto-generated documentation</a> for the Avalon API</p>
</div>
<p><br>
<br></p>
<h2 id="content-life-cycle">Content Life Cycle</h2>
<p>Data in Avalon is either persistent or in transit. Persistent data resides in either a file-system or database, whereas data in transit is in one of three states.</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/2152766/27510446-54a800ea-5908-11e7-971b-7551d4bb60e5.png" /></p>
<div class="admonition info">
<p class="admonition-title">Note</p>
<p>For each state, there is an <strong>API</strong> for developers and at least one <strong>GUI</strong> for users.</p>
</div>
<p><img class="ornament" src="https://user-images.githubusercontent.com/2152766/27510260-c4266d02-5904-11e7-8948-589df51d895a.png"></p>
<h3 id="create">Create</h3>
<p>Creation is the process of introducing new data into a project and is divided into two parts; asset and subset creation.</p>
<p><strong>Assets</strong> are abstract representations of the data used throughout a project - such as sequences, shots, characters and props - whereas <strong>Subsets</strong> represents data <em>per asset</em> - such as geometry, textures or rigs.</p>
<p>Asset and subset creation is governed by the <a href="#project-inventory-api">Project Inventory API</a> and <a href="#creator-api">Creator API</a> respectively via one or more plug-ins associated to named "families" of data, such as <code class="codehilite"><span class="n">model</span></code>, <code class="codehilite"><span class="n">look</span></code> or <code class="codehilite"><span class="n">render</span></code>.</p>
<p><img height="100px" src="https://user-images.githubusercontent.com/2152766/27510297-7f640ebc-5905-11e7-9c03-2b1083ac632d.png">
<img height="100px" src="https://user-images.githubusercontent.com/2152766/27510351-63a21060-5906-11e7-94d0-067a1cd5cc0f.png"></p>
<p>Assets are created via the <a href="#project-inventory-api">Project Inventory API</a> and subsets are generally created via the use of a Digital Content Creation package, such as Autodesk Maya or The Foundry Nuke.</p>
<p><strong>API Example</strong></p>
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">avalon</span> <span class="kn">import</span> <span class="n">api</span>

<span class="k">class</span> <span class="nc">CreateModel</span><span class="p">(</span><span class="n">api</span><span class="o">.</span><span class="n">Creator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Polygonal geometry for animation&quot;&quot;&quot;</span>

    <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Create Avalon Model&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;modelDefault&quot;</span>
    <span class="n">family</span> <span class="o">=</span> <span class="s2">&quot;avalon.model&quot;</span>
</pre></div>

<p><strong>More information</strong></p>
<ul>
<li><a href="">Application Programming Interface</a></li>
<li><a href="">Graphical User Interface</a></li>
</ul>
<p><br></p>
<p><img class="ornament" src="https://user-images.githubusercontent.com/2152766/27510285-4c59016c-5905-11e7-8f80-869454d09314.png"></p>
<h3 id="import">Import</h3>
<p>Import is the process of parsing persistent data from disk and into the memory of a running application.</p>
<p>Due to data being either localised or referenced, import is referred to as <strong>loading</strong>, a process governed by the <a href="#loading-api">Loading API</a> through one or more plug-ins associated to named families of data.</p>
<p><strong>API Example</strong></p>
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">avalon</span> <span class="kn">import</span> <span class="n">api</span>

<span class="k">class</span> <span class="nc">LoadModel</span><span class="p">(</span><span class="n">api</span><span class="o">.</span><span class="n">Loader</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Load data of family avalon.model&quot;&quot;&quot;</span>

    <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Load Avalon Model&quot;</span>
    <span class="n">families</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;avalon.model&quot;</span><span class="p">]</span>
    <span class="n">representations</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ma&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">namespace</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">maya</span> <span class="kn">import</span> <span class="n">cmds</span>
        <span class="kn">from</span> <span class="nn">avalon</span> <span class="kn">import</span> <span class="n">maya</span>

        <span class="k">with</span> <span class="n">maya</span><span class="o">.</span><span class="n">maintained_selection</span><span class="p">():</span>
            <span class="n">nodes</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fname</span><span class="p">)</span>

        <span class="bp">self</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">nodes</span>
</pre></div>

<p><strong>More information</strong></p>
<ul>
<li><a href="">Application Programming Interface</a></li>
<li><a href="">Graphical User Interface</a></li>
</ul>
<p><br>
<br></p>
<p><img class="ornament" src="https://user-images.githubusercontent.com/2152766/27510259-b58cee4c-5904-11e7-9def-43bde11171bc.png"></p>
<h3 id="export">Export</h3>
<p>Export is the process of transforming in-memory data native to an application into something that can persist on disk. During export, data is funneled through a validation mechanism that check for consistency. Because of this additional mechanism, export is referred to as <strong>publishing</strong>.</p>
<p>The manner in which data is validated and written is governed by a series of plug-ins, orchestrated by the <a href="#publishing-api">Publishing API</a> and associated to families of data.</p>
<p><strong>API Example</strong></p>
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">pyblish</span> <span class="kn">import</span> <span class="n">api</span>

<span class="k">class</span> <span class="nc">ExtractAvalonModel</span><span class="p">(</span><span class="n">api</span><span class="o">.</span><span class="n">InstancePlugin</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Produce a stripped down Maya file from instance&quot;&quot;&quot;</span>

    <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Extract Avalon Model&quot;</span>
    <span class="n">order</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">ExtractorOrder</span>
    <span class="n">hosts</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;maya&quot;</span><span class="p">]</span>
    <span class="n">families</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;avalon.model&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">maya</span> <span class="kn">import</span> <span class="n">cmds</span>
        <span class="kn">from</span> <span class="nn">avalon</span> <span class="kn">import</span> <span class="n">maya</span>

        <span class="k">with</span> <span class="n">maya</span><span class="o">.</span><span class="n">maintained_selection</span><span class="p">(),</span> <span class="n">maya</span><span class="o">.</span><span class="n">without_extension</span><span class="p">():</span>
            <span class="n">cmds</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">noExpand</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
            <span class="n">cmds</span><span class="o">.</span><span class="n">file</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s2">&quot;mayaAscii&quot;</span><span class="p">,</span> <span class="n">exportSelected</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>

<p><strong>More information</strong></p>
<ul>
<li><a href="">Application Programming Interface</a></li>
<li><a href="">Graphical User Interface</a></li>
</ul>
<p><br></p>
<p><img class="ornament" src="https://user-images.githubusercontent.com/2152766/27510275-2f928544-5905-11e7-8059-90c4a1829ae4.png"></p>
<h3 id="persist">Persist</h3>
<p>Once exported, data resides in one or two locations - as files in a file-system, or as documents in a database. The exact location within the file-system is governed by the <a href="#project-configuration-api">Project Configuration API</a> via path "templates" - a string encoded with placeholder variables associated to the various objects in the <a href="#object-model">object model</a>, customisable per-project.</p>
<p><br></p>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;work&quot;</span><span class="p">:</span> <span class="s2">&quot;{root}/{project}/{asset}/work/{task}/{user}/{app}&quot;</span><span class="p">,</span>
    <span class="nt">&quot;publish&quot;</span><span class="p">:</span> <span class="s2">&quot;{root}/{project}/{asset}/publish/{subset}/v{version:0&gt;3}/{subset}.{representation}&quot;</span>
<span class="p">}</span>
</pre></div>

<p><br>
<br></p>
<h2 id="object-model">Object Model</h2>
<p>Wherever data is stored, it is stored as a hierarchy of increasingly granular objects, representative of the division of labour in each project created through Avalon.</p>
<p><br></p>
<p><img alt="image" src="https://user-images.githubusercontent.com/2152766/27992778-99167e3c-6493-11e7-9223-1681ddfe151e.png" /></p>
<p><br></p>
<p><strong>Assets</strong> represents the most course grained division of labour and is typically used for shots and builds, e.g. the 6<sup>th</sup> shot and the hero character.</p>
<p>Each asset contain one or more <strong>Subsets</strong> which are typically used for individual models and animation caches for a build or shot.</p>
<p>Each subset contain one or more <strong>Versions</strong> which are immutable sources of data containing the final element of the object model; the <strong>Representation</strong>.</p>
<p>Representations are the storage method of a version, such as a .png thumbnail, an .obj geometry file or .mp4 turntable of a hero model. Both of which represents the same set of data in three different ways.</p>
<p>Each object containing a series of members defined by an explicit schema, enforced via <a href="http://json-schema.org/">jsonschema</a> and organised hierarchically with the former containing the latter.</p>
<p><strong>Read more</strong></p>
<ul>
<li>Read about schemas in the <a href="#database">Database section</a> below.</li>
</ul>
<h3 id="metadata">Metadata</h3>
<p>Every object in the model contains a dictionary member called <code class="codehilite"><span class="na">.data</span></code>.</p>
<p>The conceptual difference between top-level members and members of <code class="codehilite"><span class="na">.data</span></code> is that top-level members can be assumed to exist in every application, whereas members of <code class="codehilite"><span class="na">.data</span></code> are optional. </p>
<p>Optional members facilitate flexible code at the cost of having more of it and therefore more to maintain.</p>
<p><br>
<br>
<br></p>
<h2 id="database">Database</h2>
<p>Avalon stores data in two separate locations, on disk and in a database. The separation is made due to performance and search capabilities offered by databases.</p>
<p>MongoDB was chosen due to the inherent simplicity and similarity to Python's built-in dictionary type, and performance great enough to enable graphical user interfaces to be built without asynchronousity in mind.</p>
<p>Inside of MongoDB, data is stored as Collections containing many Documents. In Avalon, each Collection represents a project and documents make up the <a href="../reference/#object-model">Object Model</a>. </p>
<ul>
<li>Asset</li>
<li>Subset</li>
<li>Version</li>
<li>Representation</li>
</ul>
<p>These form a hierarchy, where each contain the latter. Assets make up the top-level object within a project, and can represent anything from characters, shots to levels and more.</p>
<table>
<thead>
<tr>
<th align="left">Asset</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Hulk</td>
<td align="left">A bulky fellow</td>
</tr>
<tr>
<td align="left">Bruce</td>
<td align="left">The hero of the film</td>
</tr>
<tr>
<td align="left">1000</td>
<td align="left">First shot</td>
</tr>
<tr>
<td align="left">1200</td>
<td align="left">Second shot</td>
</tr>
</tbody>
</table>
<p>Subsets is the asset broken down into smaller sets of information, such as a rig or a model.</p>
<table>
<thead>
<tr>
<th align="left">Subset</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">model</td>
<td align="left">Hulk's model</td>
</tr>
<tr>
<td align="left">rig</td>
<td align="left">Hulk's rig</td>
</tr>
<tr>
<td align="left">lookdev</td>
<td align="left">Hulk's look</td>
</tr>
<tr>
<td align="left">animation</td>
<td align="left">Hulk's point cached geometry</td>
</tr>
</tbody>
</table>
<p>A subset must have a least one Version, which is typically immutable.</p>
<table>
<thead>
<tr>
<th align="left">Version</th>
<th align="left">Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">v001</td>
<td align="left">Initial version</td>
</tr>
<tr>
<td align="left">v002</td>
<td align="left">Fixed whole in mesh</td>
</tr>
<tr>
<td align="left">v003</td>
<td align="left">Increased the size of pecs</td>
</tr>
</tbody>
</table>
<p>Finally, in each version there is at least one Representation; typically a file or sequence of files.</p>
<table>
<thead>
<tr>
<th align="left">Representation</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">ma</td>
<td align="left">Maya rig</td>
</tr>
<tr>
<td align="left">mov</td>
<td align="left">Turntable</td>
</tr>
<tr>
<td align="left">abc</td>
<td align="left">Still frame of mesh used in rig</td>
</tr>
</tbody>
</table>
<p>Read more about the kinds of objects in <a href="#schemas">Schemas</a> below.</p>
<p><br></p>
<h3 id="schemas">Schemas</h3>
<p>All data within the database and on disk follow a strict layout, known as a "schema".</p>
<h4 id="project">Project</h4>
<p>A project is a top-level object that cannot be contained elsewhere, but contains everything else.</p>
<p><a href="https://github.com/getavalon/core/tree/master/avalon/schema/project-2.0.json" title="project-2.0.json" class="md-source-file">
project-2.0.json
</a></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;config&quot;</span><span class="p">:</span> <span class="s2">&quot;Document metadata&quot;</span><span class="p">,</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;Document metadata&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of directory&quot;</span><span class="p">,</span>
    <span class="nt">&quot;parent&quot;</span><span class="p">:</span> <span class="s2">&quot;Unique identifier to parent document&quot;</span><span class="p">,</span>
    <span class="nt">&quot;schema&quot;</span><span class="p">:</span> <span class="s2">&quot;Schema identifier for payload&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;The type of document&quot;</span>
<span class="p">}</span>
</pre></div>

<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;config&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;apps&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Autodesk Maya 2016&quot;</span><span class="p">,</span>
                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;maya2016&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;The Foundry Nuke 10.0&quot;</span><span class="p">,</span>
                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;nuke10&quot;</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="nt">&quot;schema&quot;</span><span class="p">:</span> <span class="s2">&quot;avalon-core:config-1.0&quot;</span><span class="p">,</span>
        <span class="nt">&quot;tasks&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;model&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;render&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;animate&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;rig&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;lookdev&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;layout&quot;</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="nt">&quot;template&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;publish&quot;</span><span class="p">:</span> <span class="s2">&quot;{root}/{project}/{silo}/{asset}/publish/{subset}/v{version:0&gt;3}/{subset}.{representation}&quot;</span><span class="p">,</span>
            <span class="nt">&quot;work&quot;</span><span class="p">:</span> <span class="s2">&quot;{root}/{project}/{silo}/{asset}/work/{task}/{app}&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;fps&quot;</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
        <span class="nt">&quot;height&quot;</span><span class="p">:</span> <span class="mi">1080</span><span class="p">,</span>
        <span class="nt">&quot;width&quot;</span><span class="p">:</span> <span class="mi">1920</span>
    <span class="p">},</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;hulk&quot;</span><span class="p">,</span>
    <span class="nt">&quot;parent&quot;</span><span class="p">:</span> <span class="s2">&quot;592c33475f8c1b064c4d1696&quot;</span><span class="p">,</span>
    <span class="nt">&quot;schema&quot;</span><span class="p">:</span> <span class="s2">&quot;avalon-core:project-2.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;project&quot;</span>
<span class="p">}</span>
</pre></div>

<p><br></p>
<h4 id="asset">Asset</h4>
<p>A part of a project, such as a Character or Shot.</p>
<p><a href="https://github.com/getavalon/core/tree/master/avalon/schema/asset-2.0.json" title="asset-2.0.json" class="md-source-file">
asset-2.0.json
</a></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;Document metadata&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of asset&quot;</span><span class="p">,</span>
    <span class="nt">&quot;parent&quot;</span><span class="p">:</span> <span class="s2">&quot;Unique identifier to parent document&quot;</span><span class="p">,</span>
    <span class="nt">&quot;schema&quot;</span><span class="p">:</span> <span class="s2">&quot;Schema identifier for payload&quot;</span><span class="p">,</span>
    <span class="nt">&quot;silo&quot;</span><span class="p">:</span> <span class="s2">&quot;Group or container of asset&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;The type of document&quot;</span>
<span class="p">}</span>
</pre></div>

<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Bruce&quot;</span><span class="p">,</span>
    <span class="nt">&quot;parent&quot;</span><span class="p">:</span> <span class="s2">&quot;592c33475f8c1b064c4d1696&quot;</span><span class="p">,</span>
    <span class="nt">&quot;schema&quot;</span><span class="p">:</span> <span class="s2">&quot;avalon-core:asset-2.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;silo&quot;</span><span class="p">:</span> <span class="s2">&quot;assets&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;asset&quot;</span>
<span class="p">}</span>
</pre></div>

<p><br></p>
<h4 id="subset">Subset</h4>
<p>A part of an <a href="#asset">Asset</a>, such as a model or a rig.</p>
<p><a href="https://github.com/getavalon/core/tree/master/avalon/schema/subset-2.0.json" title="subset-2.0.json" class="md-source-file">
subset-2.0.json
</a></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;Document metadata&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of directory&quot;</span><span class="p">,</span>
    <span class="nt">&quot;parent&quot;</span><span class="p">:</span> <span class="s2">&quot;Unique identifier to parent document&quot;</span><span class="p">,</span>
    <span class="nt">&quot;schema&quot;</span><span class="p">:</span> <span class="s2">&quot;The schema associated with this document&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;The type of document&quot;</span>
<span class="p">}</span>
</pre></div>

<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;frameEnd&quot;</span><span class="p">:</span> <span class="mi">1201</span><span class="p">,</span>
        <span class="nt">&quot;frameStart&quot;</span><span class="p">:</span> <span class="mi">1000</span>
    <span class="p">},</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;shot01&quot;</span><span class="p">,</span>
    <span class="nt">&quot;parent&quot;</span><span class="p">:</span> <span class="s2">&quot;592c33475f8c1b064c4d1696&quot;</span><span class="p">,</span>
    <span class="nt">&quot;schema&quot;</span><span class="p">:</span> <span class="s2">&quot;avalon-core:subset-2.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;subset&quot;</span>
<span class="p">}</span>
</pre></div>

<p><br></p>
<h4 id="version">Version</h4>
<p>An immutable iteration of a <a href="#subset">Subset</a>.</p>
<p>Versions are immutable, in that they never change once made. This is in stark contrast to mutable versions which is when one version may be "updated" such that the same file now contains new information.</p>
<p><a href="https://github.com/getavalon/core/tree/master/avalon/schema/version-2.0.json" title="version-2.0.json" class="md-source-file">
version-2.0.json
</a></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;Document metadata&quot;</span><span class="p">,</span>
    <span class="nt">&quot;locations&quot;</span><span class="p">:</span> <span class="s2">&quot;Where on the planet this version can be found.&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Number of version&quot;</span><span class="p">,</span>
    <span class="nt">&quot;parent&quot;</span><span class="p">:</span> <span class="s2">&quot;Unique identifier to parent document&quot;</span><span class="p">,</span>
    <span class="nt">&quot;schema&quot;</span><span class="p">:</span> <span class="s2">&quot;The schema associated with this document&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;The type of document&quot;</span>
<span class="p">}</span>
</pre></div>

<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;marcus&quot;</span><span class="p">,</span>
        <span class="nt">&quot;families&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;avalon.model&quot;</span>
        <span class="p">],</span>
        <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;{root}/f02_prod/assets/BubbleWitch/work/modeling/marcus/maya/scenes/model_v001.ma&quot;</span><span class="p">,</span>
        <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;20170510T090203Z&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;locations&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;data.avalon.com&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
    <span class="nt">&quot;parent&quot;</span><span class="p">:</span> <span class="s2">&quot;592c33475f8c1b064c4d1696&quot;</span><span class="p">,</span>
    <span class="nt">&quot;schema&quot;</span><span class="p">:</span> <span class="s2">&quot;avalon-core:version-2.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;version&quot;</span>
<span class="p">}</span>
</pre></div>

<p><br></p>
<h4 id="representation">Representation</h4>
<p>One of many representations of a <a href="#version">Version</a>.</p>
<p>Think of a representation as one way of storing the same set of data on disk. For example, an image may be stored as both PNG and JPEG. Different files, same data. It could also be stored as a description. <em>"A picture of my computer."</em> Much less information is ultimately stored, but it is nonetheless the exact same original data in a different (albeit lossy) representation. The image could also be represented by a feeling (warm, mystical) or a spoken word (muah!).</p>
<p>Representations are very powerful and lie at the heart of assets that are more than just a single file.</p>
<p>As a practical example, a Look is stored as both an MA scene file and a JSON. The JSON stores the shader relationships, whereas the MA file stores the actual shaders. Same data, different representations.</p>
<p><a href="https://github.com/getavalon/core/tree/master/avalon/schema/representation-2.0.json" title="representation-2.0.json" class="md-source-file">
representation-2.0.json
</a></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;context&quot;</span><span class="p">:</span> <span class="s2">&quot;Summary of the context to which this representation belong.&quot;</span><span class="p">,</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;Document metadata&quot;</span><span class="p">,</span>
    <span class="nt">&quot;dependencies&quot;</span><span class="p">:</span> <span class="s2">&quot;Other representation that this representation depends on&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of representation&quot;</span><span class="p">,</span>
    <span class="nt">&quot;parent&quot;</span><span class="p">:</span> <span class="s2">&quot;Unique identifier to parent document&quot;</span><span class="p">,</span>
    <span class="nt">&quot;schema&quot;</span><span class="p">:</span> <span class="s2">&quot;Schema identifier for payload&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;The type of document&quot;</span>
<span class="p">}</span>
</pre></div>

<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;context&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;asset&quot;</span><span class="p">:</span> <span class="s2">&quot;Bruce&quot;</span><span class="p">,</span>
        <span class="nt">&quot;project&quot;</span><span class="p">:</span> <span class="s2">&quot;hulk&quot;</span><span class="p">,</span>
        <span class="nt">&quot;representation&quot;</span><span class="p">:</span> <span class="s2">&quot;ma&quot;</span><span class="p">,</span>
        <span class="nt">&quot;silo&quot;</span><span class="p">:</span> <span class="s2">&quot;assets&quot;</span><span class="p">,</span>
        <span class="nt">&quot;subset&quot;</span><span class="p">:</span> <span class="s2">&quot;rigDefault&quot;</span><span class="p">,</span>
        <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">12</span>
    <span class="p">},</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Alembic&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;592d547a5f8c1b388093c145&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;abc&quot;</span><span class="p">,</span>
    <span class="nt">&quot;parent&quot;</span><span class="p">:</span> <span class="s2">&quot;592c33475f8c1b064c4d1696&quot;</span><span class="p">,</span>
    <span class="nt">&quot;schema&quot;</span><span class="p">:</span> <span class="s2">&quot;avalon-core:representation-2.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;representation&quot;</span>
<span class="p">}</span>
</pre></div>

<p><br></p>
<h4 id="container">Container</h4>
<p>An imported <a href="#version">Version</a>, as yielded from <code class="codehilite"><span class="n">api</span><span class="p">.</span><span class="n">registered_host</span><span class="p">().</span><span class="n">ls</span><span class="p">()</span></code>.</p>
<p><a href="https://github.com/getavalon/core/tree/master/avalon/schema/container-2.0.json" title="container-2.0.json" class="md-source-file">
container-2.0.json
</a></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Identifier for finding object in host&quot;</span><span class="p">,</span>
    <span class="nt">&quot;loader&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of loader plug-in used to produce this container&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Internal object name of container in application&quot;</span><span class="p">,</span>
    <span class="nt">&quot;namespace&quot;</span><span class="p">:</span> <span class="s2">&quot;Internal namespace of container in application&quot;</span><span class="p">,</span>
    <span class="nt">&quot;objectName&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of internal object, such as the objectSet in Maya.&quot;</span><span class="p">,</span>
    <span class="nt">&quot;representation&quot;</span><span class="p">:</span> <span class="s2">&quot;Unique id of representation in database&quot;</span><span class="p">,</span>
    <span class="nt">&quot;schema&quot;</span><span class="p">:</span> <span class="s2">&quot;Schema identifier for payload&quot;</span>
<span class="p">}</span>
</pre></div>

<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;pyblish.avalon.container&quot;</span><span class="p">,</span>
    <span class="nt">&quot;loader&quot;</span><span class="p">:</span> <span class="s2">&quot;ModelLoader&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;modelDefault_01&quot;</span><span class="p">,</span>
    <span class="nt">&quot;namespace&quot;</span><span class="p">:</span> <span class="s2">&quot;Bruce_&quot;</span><span class="p">,</span>
    <span class="nt">&quot;objectName&quot;</span><span class="p">:</span> <span class="s2">&quot;Bruce_:rigDefault_CON&quot;</span><span class="p">,</span>
    <span class="nt">&quot;representation&quot;</span><span class="p">:</span> <span class="s2">&quot;59523f355f8c1b5f6c5e8348&quot;</span><span class="p">,</span>
    <span class="nt">&quot;schema&quot;</span><span class="p">:</span> <span class="s2">&quot;avalon-core:container-2.0&quot;</span>
<span class="p">}</span>
</pre></div>

<p><br>
<br></p>
<h2 id="software">Software</h2>
<p>Avalon assumes content is created within an application of some kind and manages the execution of each application via <a href="../reference/#launcher">Launcher</a>.</p>
<h3 id="apps">Apps</h3>
<p><a href="../reference/#launcher">Launcher</a> is responsible for launching "apps", such as Maya. "App" is the term used for a pre-configured application in Avalon.</p>
<p><strong>Problem</strong></p>
<p>It could call on <code class="codehilite"><span class="k">c</span><span class="p">:</span><span class="err">\</span><span class="n">Program</span> <span class="n">Files</span><span class="err">\</span><span class="n">Autodesk</span><span class="err">\</span><span class="n">Maya2017</span><span class="err">\</span><span class="n">bin</span><span class="err">\</span><span class="n">maya</span><span class="p">.</span><span class="n">exe</span></code> directly, but doing so is problematic because..</p>
<ol>
<li>It assumes a particular operating system</li>
<li>It assumes a particular installation directory</li>
<li>It assumes a particular app is what you want for your project(s)</li>
<li>It assumes no customisation of environment prior to launch</li>
</ol>
<p><strong>Solution</strong></p>
<p>The <a href="#project-executable-api">Project Executable API</a> addresses this by splitting the problem it into three independently configurable parts.</p>
<ol>
<li>Apps are assumed to be available on your <code class="codehilite"><span class="n">PATH</span></code>, e.g. <code class="codehilite"><span class="n">maya</span><span class="p">.</span><span class="n">sh</span></code> or <code class="codehilite"><span class="n">maya</span><span class="p">.</span><span class="n">bat</span></code></li>
<li>Configuration is performed per application in an individual configuration file, e.g. <code class="codehilite"><span class="n">maya</span><span class="p">.</span><span class="n">toml</span></code></li>
<li>Apps are associated per project, e.g. Hulk uses Maya and Nuke.</li>
</ol>
<p><br>
<br>
<br></p>
<h2 id="library-api">Library API</h2>
<p>Public members of <code class="codehilite"><span class="n">avalon</span><span class="p">.</span><span class="n">api</span></code>. See <a href="https://getavalon.github.io/core">API Documentation</a> for full details.</p>
<table>
<thead>
<tr>
<th align="left">Member</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code class="codehilite"><span class="n">install</span></code></td>
<td align="left">Install <code class="codehilite"><span class="k">host</span></code> into the running Python session.</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">uninstall</span></code></td>
<td align="left">Undo all of what <code class="codehilite"><span class="n">install</span><span class="p">()</span></code> did</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="k">schema</span></code></td>
<td align="left">Wrapper around :mod:<code class="codehilite"><span class="n">jsonschema</span></code></td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">Loader</span></code></td>
<td align="left">Load representation into host application</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">Creator</span></code></td>
<td align="left">Determine how assets are created</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">Action</span></code></td>
<td align="left">A custom action available</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">InventoryAction</span></code></td>
<td align="left">A custom action for the scene inventory tool</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">Application</span></code></td>
<td align="left">Default application launcher</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">discover</span></code></td>
<td align="left">Find and return subclasses of <code class="codehilite"><span class="n">superclass</span></code></td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="k">Session</span></code></td>
<td align="left">dict() -&gt; new empty dictionary</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="k">session</span></code></td>
<td align="left">dict() -&gt; new empty dictionary</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="k">on</span></code></td>
<td align="left">Call <code class="codehilite"><span class="n">callback</span></code> on <code class="codehilite"><span class="n">event</span></code></td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="k">after</span></code></td>
<td align="left">Convenience to <code class="codehilite"><span class="k">on</span><span class="p">()</span></code> for after-events</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="k">before</span></code></td>
<td align="left">Convenience to <code class="codehilite"><span class="k">on</span><span class="p">()</span></code> for before-events</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">emit</span></code></td>
<td align="left">Trigger an <code class="codehilite"><span class="n">event</span></code></td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">publish</span></code></td>
<td align="left">Shorthand to publish from within host</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="k">create</span></code></td>
<td align="left">Create a new instance</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="k">load</span></code></td>
<td align="left">Use Loader to load a representation.</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="k">update</span></code></td>
<td align="left">Update a container</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">switch</span></code></td>
<td align="left">Switch a container to representation</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">remove</span></code></td>
<td align="left">Remove a container</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="k">data</span></code></td>
<td align="left">dict() -&gt; new empty dictionary</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">update_current_task</span></code></td>
<td align="left">Update active Session to a new task work area.</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">get_representation_path</span></code></td>
<td align="left">Get filename from representation document</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">loaders_from_representation</span></code></td>
<td align="left">Return all compatible loaders for a representation.</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">register_host</span></code></td>
<td align="left">Register a new host for the current process</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">register_plugin_path</span></code></td>
<td align="left">Register a directory of one or more plug-ins</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">register_plugin</span></code></td>
<td align="left">Register an individual <code class="codehilite"><span class="n">obj</span></code> of type <code class="codehilite"><span class="n">superclass</span></code></td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">register_root</span></code></td>
<td align="left">Register currently active root</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">registered_root</span></code></td>
<td align="left">Return currently registered root</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">registered_plugin_paths</span></code></td>
<td align="left">Return all currently registered plug-in paths</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">registered_host</span></code></td>
<td align="left">Return currently registered host</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">registered_config</span></code></td>
<td align="left">Return currently registered config</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">deregister_plugin</span></code></td>
<td align="left">Oppsite of <code class="codehilite"><span class="n">register_plugin</span><span class="p">()</span></code></td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">deregister_plugin_path</span></code></td>
<td align="left">Oppsite of <code class="codehilite"><span class="n">register_plugin_path</span><span class="p">()</span></code></td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">logger</span></code></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">time</span></code></td>
<td align="left">Return file-system safe string of current date and time</td>
</tr>
</tbody>
</table>
<p><br>
<br></p>
<h2 id="host-api">Host API</h2>
<p>A host must implement the following members.</p>
<table>
<thead>
<tr>
<th align="left">Member</th>
<th align="left">Returns</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code class="codehilite"><span class="n">ls</span></code></td>
<td align="left"><code class="codehilite"><span class="n">generator</span></code></td>
<td align="left">List loaded assets</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="k">create</span></code></td>
<td align="left"><code class="codehilite"><span class="n">str</span></code></td>
<td align="left">Build fixture for outgoing data (see <a href="">instance</a>), returns instance.</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="k">load</span></code></td>
<td align="left"><code class="codehilite"><span class="k">None</span></code></td>
<td align="left">Import external data into <a href="">container</a></td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="k">update</span></code></td>
<td align="left"><code class="codehilite"><span class="k">None</span></code></td>
<td align="left">Update an existing container</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">remove</span></code></td>
<td align="left"><code class="codehilite"><span class="k">None</span></code></td>
<td align="left">Remove an existing container</td>
</tr>
</tbody>
</table>
<p><br></p>
<h4 id="information-hierarchy">Information hierarchy</h4>
<p>Imported data is stored in a <code class="codehilite"><span class="n">container</span></code>. A container hosts a loaded asset along with metadata used to associate assets that use other assets, such as a Wheel asset used in a Car asset.</p>
<p><img alt="Host data relationship" src="https://cloud.githubusercontent.com/assets/2152766/18905784/aa6a3d5c-855c-11e6-9843-b24ebd23c4ac.png" /></p>
<h4 id="id">Id</h4>
<p>Internally, Pyblish instances and containers are distinguished from native content via an "id". For example, in Maya, the <code class="codehilite"><span class="n">id</span></code> is a user-defined attribute.</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Description</th>
<th align="left">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code class="codehilite"><span class="n">pyblish</span><span class="p">.</span><span class="n">avalon</span><span class="p">.</span><span class="n">container</span></code></td>
<td align="left">Unit of incoming data</td>
<td align="left"><code class="codehilite"><span class="p">...:</span><span class="n">model_GRP</span></code>, <code class="codehilite"><span class="p">...:</span><span class="n">rig_GRP</span></code></td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="n">pyblish</span><span class="p">.</span><span class="n">avalon</span><span class="p">.</span><span class="n">instance</span></code></td>
<td align="left">Unit of outgoing data</td>
<td align="left"><code class="codehilite"><span class="n">Strange_model_default</span></code></td>
</tr>
</tbody>
</table>
<p><br>
<br></p>
<h2 id="project-inventory-api">Project Inventory API</h2>
<p>The inventory contains all ASSETs of a project, including metadata.</p>
<ul>
<li><a href="http://fontawesome.io/icons/">Icon Database</a></li>
</ul>
<p><strong>.inventory.toml</strong></p>
<div class="codehilite"><pre><span></span><span class="c1"># Mandatory, do not touch</span>
<span class="na">schema</span> <span class="o">=</span> <span class="s">&quot;avalon-core:inventory-1.0&quot;</span>

<span class="c1"># Project metadata</span>
<span class="na">label</span> <span class="o">=</span> <span class="s">&quot;The Hulk&quot;</span>
<span class="na">fps</span> <span class="o">=</span> <span class="s">24</span>
<span class="na">resolution_width</span> <span class="o">=</span> <span class="s">1920</span>
<span class="na">resolution_height</span> <span class="o">=</span> <span class="s">1080</span>

<span class="c1"># Available assets</span>
<span class="k">[[assets]]</span>
<span class="na">name</span> <span class="o">=</span> <span class="s">&quot;Batman&quot;</span>

<span class="k">[[assets]]</span>
<span class="na">name</span> <span class="o">=</span> <span class="s">&quot;Bruce&quot;</span>
<span class="na">label</span> <span class="o">=</span> <span class="s">&quot;Bruce Wayne&quot;  # (Optional) Nicer name</span>
<span class="na">group</span> <span class="o">=</span> <span class="s">&quot;Character&quot;  # (Optional) Visual grouping</span>
<span class="na">icon</span> <span class="o">=</span> <span class="s">&quot;gear&quot;  # (Optional) Icon from FontAwesome</span>

<span class="k">[[assets]]</span>
<span class="na">name</span> <span class="o">=</span> <span class="s">&quot;Camera&quot;</span>

<span class="c1"># Available shots</span>
<span class="k">[[film]]</span>
<span class="na">name</span> <span class="o">=</span> <span class="s">&quot;1000&quot;</span>
<span class="na">edit_in</span> <span class="o">=</span> <span class="s">1000</span>
<span class="na">edit_out</span> <span class="o">=</span> <span class="s">1202</span>

<span class="k">[[film]]</span>
<span class="na">name</span> <span class="o">=</span> <span class="s">&quot;1200&quot;</span>
<span class="na">edit_in</span> <span class="o">=</span> <span class="s">1000  # Optional metadata per shot</span>
<span class="na">edit_out</span> <span class="o">=</span> <span class="s">1143</span>
</pre></div>

<p>The above is an example of an "inventory". A complete snapshot of all available assts within a given project, along with optional metadata.</p>
<p><br>
<br></p>
<h2 id="project-configuration-api">Project Configuration API</h2>
<p>The project configuration contains the applications and tasks available within a given project, along with the template used to create directories.</p>
<p><strong>.config.toml</strong></p>
<div class="codehilite"><pre><span></span><span class="c1"># Mandatory, do not touch</span>
<span class="na">schema</span> <span class="o">=</span> <span class="s">&quot;avalon-core:config-1.0&quot;</span>

<span class="c1"># Available tasks to choose from.</span>
<span class="k">[[tasks]]</span>
<span class="na">name</span> <span class="o">=</span> <span class="s">&quot;modeling&quot;</span>
<span class="na">label</span> <span class="o">=</span> <span class="s">&quot;Character Modeling&quot;</span>
<span class="na">icon</span> <span class="o">=</span> <span class="s">&quot;video-camera&quot;</span>

<span class="k">[[tasks]]</span>
<span class="na">name</span> <span class="o">=</span> <span class="s">&quot;animation&quot;</span>

<span class="c1"># Available applications to choose from, the name references</span>
<span class="c1"># the executable API (see below)</span>
<span class="k">[[apps]]</span>
<span class="na">name</span> <span class="o">=</span> <span class="s">&quot;maya2016&quot;</span>
<span class="na">label</span> <span class="o">=</span> <span class="s">&quot;Autodesk Maya 2016&quot;</span>

<span class="k">[[apps]]</span>
<span class="na">name</span> <span class="o">=</span> <span class="s">&quot;python&quot;</span>
<span class="na">label</span> <span class="o">=</span> <span class="s">&quot;Python 3.6&quot;</span>
<span class="na">args</span> <span class="o">=</span> <span class="s">[&quot;-u&quot;, &quot;-c&quot;, &quot;print(&#39;Something nice&#39;)&quot;]</span>

<span class="c1"># Directory layouts for this project.</span>
<span class="k">[template]</span>
<span class="na">work</span> <span class="o">=</span> <span class="s">&quot;{root}/{project}/{silo}/{asset}/work/{task}/{user}/{app}&quot;</span>
<span class="na">publish</span> <span class="o">=</span> <span class="s">&quot;{root}/{project}/{silo}/{asset}/publish/{subset}/v{version:0&gt;3}/{subset}.{representation}&quot;</span>
</pre></div>

<p>The directory layout have the following members available.</p>
<table>
<thead>
<tr>
<th align="left">Member</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code class="codehilite"><span class="err">{</span><span class="n">app</span><span class="err">}</span></code></td>
<td align="left"><code class="codehilite"><span class="n">str</span></code></td>
<td align="left">The current application directory name, defined in Executable API</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="err">{</span><span class="n">task</span><span class="err">}</span></code></td>
<td align="left"><code class="codehilite"><span class="n">str</span></code></td>
<td align="left">Name of the current task</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="err">{</span><span class="k">user</span><span class="err">}</span></code></td>
<td align="left"><code class="codehilite"><span class="n">str</span></code></td>
<td align="left">Currently logged on user (provided by <code class="codehilite"><span class="n">getpass</span><span class="p">.</span><span class="n">getuser</span><span class="p">()</span></code>)</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="err">{</span><span class="n">root</span><span class="err">}</span></code></td>
<td align="left"><code class="codehilite"><span class="n">str</span></code></td>
<td align="left">Absolute path to root directory, e.g. <code class="codehilite"><span class="n">m</span><span class="p">:</span><span class="err">\</span><span class="n">f01_project</span></code></td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="err">{</span><span class="n">project</span><span class="err">}</span></code></td>
<td align="left"><code class="codehilite"><span class="n">str</span></code></td>
<td align="left">Name of current project</td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="err">{</span><span class="n">silo</span><span class="err">}</span></code></td>
<td align="left"><code class="codehilite"><span class="n">str</span></code></td>
<td align="left">Name of silo, e.g. <code class="codehilite"><span class="n">assets</span></code></td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="err">{</span><span class="n">asset</span><span class="err">}</span></code></td>
<td align="left"><code class="codehilite"><span class="n">str</span></code></td>
<td align="left">Name of asset, e.g. <code class="codehilite"><span class="n">Bruce</span></code></td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="err">{</span><span class="n">subset</span><span class="err">}</span></code></td>
<td align="left"><code class="codehilite"><span class="n">str</span></code></td>
<td align="left">Name of subset, e.g. <code class="codehilite"><span class="n">modelDefault</span></code></td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="err">{</span><span class="k">version</span><span class="err">}</span></code></td>
<td align="left"><code class="codehilite"><span class="nb">int</span></code></td>
<td align="left">Number of version, e.g. <code class="codehilite"><span class="mi">1</span></code></td>
</tr>
<tr>
<td align="left"><code class="codehilite"><span class="err">{</span><span class="n">representation</span><span class="err">}</span></code></td>
<td align="left"><code class="codehilite"><span class="n">str</span></code></td>
<td align="left">Name of representation, e.g. <code class="codehilite"><span class="n">ma</span></code></td>
</tr>
</tbody>
</table>
<p><br>
<br></p>
<h2 id="project-executable-api">Project Executable API</h2>
<p>Every executable must have an associated Application Definition file which looks like this.</p>
<p><strong>maya2016.toml</strong></p>
<div class="codehilite"><pre><span></span><span class="c1"># Required header, do not touch.</span>
<span class="na">schema</span> <span class="o">=</span> <span class="s">&quot;avalon-core:application-1.0&quot;</span>

<span class="c1"># Name of the created directory, available in the </span>
<span class="c1"># `template` of the Configuration API</span>
<span class="na">application_dir</span> <span class="o">=</span> <span class="s">&quot;maya&quot;</span>

<span class="c1"># These directories will be created under the</span>
<span class="c1"># given application directory</span>
<span class="na">default_dirs</span> <span class="o">=</span> <span class="s">[</span>
<span class="s">    &quot;scenes&quot;,</span>
<span class="s">    &quot;data&quot;,</span>
<span class="s">    &quot;renderData/shaders&quot;,</span>
<span class="s">    &quot;images&quot;</span>
<span class="na">]</span>

<span class="c1"># Name displayed in GUIs</span>
<span class="na">label</span> <span class="o">=</span> <span class="s">&quot;Autodesk Maya 2016x64&quot;</span>

<span class="c1"># Arguments passed to the executable on launch</span>
<span class="na">arguments</span> <span class="o">=</span> <span class="s">[ &quot;-proj&quot;, &quot;{AVALON_WORKDIR}&quot;,]</span>

<span class="c1"># Name of the executable on the local computer.</span>
<span class="c1"># This name must be available via the users `PATH`.</span>
<span class="c1"># That is, the user must be able to type this into</span>
<span class="c1"># the terminal to launch said application.</span>
<span class="na">executable</span> <span class="o">=</span> <span class="s">&quot;maya2016&quot;</span>
<span class="na">description</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>

<span class="c1"># Files copied into the application directory on launch</span>
<span class="k">[copy]</span>
<span class="na">&quot;{AVALON_CORE}/res/workspace.mel&quot;</span> <span class="o">=</span> <span class="s">&quot;workspace.mel&quot;</span>

<span class="c1"># The environment variables overrides any previously set</span>
<span class="c1"># variables from the parent process.</span>
<span class="k">[environment]</span>
<span class="na">MAYA_DISABLE_CLIC_IPM</span> <span class="o">=</span> <span class="s">&quot;Yes&quot;  # Disable the AdSSO process</span>
<span class="na">MAYA_DISABLE_CIP</span> <span class="o">=</span> <span class="s">&quot;Yes&quot;  # Shorten time to boot</span>
<span class="na">MAYA_DISABLE_CER</span> <span class="o">=</span> <span class="s">&quot;Yes&quot;</span>
<span class="na">PYTHONPATH</span> <span class="o">=</span> <span class="s">[</span>
<span class="s">    &quot;{PYBLISH_MAYA}/pyblish_maya/pythonpath&quot;,</span>
<span class="s">    &quot;{AVALON_CORE}/avalon/maya/pythonpath&quot;,</span>
<span class="s">    &quot;{PYTHONPATH}&quot;</span>
<span class="na">]</span>
</pre></div>

<p><br></p>
<h2 id="project-template-api">Project Template API</h2>
<p>The vast majority of data managed by Avalon is stored as files on disk, and every file has a path. The path is an integral part of any production and requires fine-grained control.</p>
<p>Avalon provides this control in the form of <code class="codehilite"><span class="n">templates</span></code>.</p>
<p>A template is a string of <code class="codehilite"><span class="err">{</span><span class="n">placeholders</span><span class="err">}</span></code>, each placeholder representing some data.</p>
<div class="codehilite"><pre><span></span><span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;{project}/{asset}/myfile_v{version:0&gt;3}.ma&quot;</span>
</pre></div>

<p>The keywords within the <code class="codehilite"><span class="err">{}</span></code> are known as <code class="codehilite"><span class="n">placeholders</span></code> and may be dynamically replaced at run-time by your code.</p>
<p><strong>Example</strong></p>
<p>On saving a file, this template could be used to construct a path.</p>
<div class="codehilite"><pre><span></span><span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;{project}/{asset}/myfile_{version:0&gt;3}.ma&quot;</span>
<span class="n">fname</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
    <span class="n">project</span><span class="o">=</span><span class="s2">&quot;hulk&quot;</span><span class="p">,</span>
    <span class="n">asset</span><span class="o">=</span><span class="s2">&quot;bruce&quot;</span><span class="p">,</span>
    <span class="n">version</span><span class="o">=</span><span class="mi">13</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
</pre></div>

<table class="codehilitetable output">
  <tbody>
    <tr>
      <td class="code">
        <div class="codehilite" id="__code_1">
          <pre>
<span class="p">hulk/bruce/myfile_013.ma</span>          </pre>
        </div>
      </td>
    </tr>
  </tbody>
</table>

<p>Provided that pass the same data, the template itself can vary, whilst leaving your code intact.</p>
<div class="codehilite"><pre><span></span><span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;c:/assets/{asset}/{project}/myfile_version{version:0&gt;2}.mb&quot;</span>
</pre></div>

<p>Viola, a drastically different directory layout, with identical data and code to process it. Notice how this templates includes reference to <code class="codehilite"><span class="k">c</span><span class="p">:</span><span class="err">\</span></code> which not only asserts a particular operating system (Windows) but also leaves no room for an alternative "root". See <a href="#root-template">Root Template</a> below for an example of how to overcome this limitation.</p>
<p>This is how Avalon works.</p>
<p>In this way, you can establish <em>convention</em> at a high-level whilst still remaning <em>specific</em> in places where you need to either read from or write to disk. More importantly, this is the aspect which allows Avalon to not make assumptions about your directory layout; it is up to you to write this template.</p>
<p>Having said that, though Avalon doesn't make assumptions about <em>where</em> data is written, it <em>does</em> make assumptions on the types of data written - referred to as the Avalon Object Model - and your directory layout must accommodate for these types at minimum.</p>
<ul>
<li>See <a href="#object-model">Object Model</a> for a high-level overview of these types</li>
</ul>
<p>For any project, Avalon assumes a <code class="codehilite"><span class="k">work</span></code> template to be available in your <a href="#project-configuration-api">Project Configuration</a>. This template is used to generate the initial directory layout for your work-in-progress files.</p>
<p>The layout and ordering of placeholders in this template is within your control, and these are the ones available to you.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;root&quot;</span><span class="p">:</span> <span class="s2">&quot;Currently registered root, e.g. &#39;c:/projects&#39;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;project&quot;</span><span class="p">:</span> <span class="s2">&quot;Current project, e.g. &#39;hulk&#39;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;silo&quot;</span><span class="p">:</span> <span class="s2">&quot;Current silo, e.g. &#39;assets&#39;, &#39;film&#39;, &#39;episodes&#39;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;asset&quot;</span><span class="p">:</span> <span class="s2">&quot;Current asset, e.g. &#39;Bruce&#39;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;task&quot;</span><span class="p">:</span> <span class="s2">&quot;Current task&quot;</span><span class="p">,</span>
    <span class="nt">&quot;app&quot;</span><span class="p">:</span> <span class="s2">&quot;Current app, e.g. &#39;maya2019&#39;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;user&quot;</span><span class="p">:</span> <span class="s2">&quot;Current user, e.g. &#39;rick&#39;&quot;</span>
<span class="p">}</span>
</pre></div>

<p>Here's an example of a <code class="codehilite"><span class="k">work</span></code> template.</p>
<div class="codehilite"><pre><span></span><span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;{root}/{project}/{silo}/{asset}/work/{task}/{user}/{app}&quot;</span>
</pre></div>

<ul>
<li>See <a href="#project-configuration-api">Project Configuration API</a> for more.</li>
</ul>
<h3 id="template-access">Template Access</h3>
<p>Templates are generally stored in your <a href="#project-configuration-api">project configuration</a>.</p>
<div class="codehilite"><pre><span></span><span class="c1"># Untested</span>
<span class="kn">from</span> <span class="nn">avalon</span> <span class="kn">import</span> <span class="n">io</span>
<span class="n">project</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">find_one</span><span class="p">({</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;project&quot;</span><span class="p">})</span>
<span class="n">template</span> <span class="o">=</span> <span class="n">project</span><span class="p">[</span><span class="s2">&quot;config&quot;</span><span class="p">][</span><span class="s2">&quot;template&quot;</span><span class="p">][</span><span class="s2">&quot;work&quot;</span><span class="p">]</span>
</pre></div>

<h3 id="root-template">Root Template</h3>
<p>Every path has a "root"; the first part of a path.</p>
<div class="codehilite"><pre><span></span><span class="k">c</span><span class="p">:</span><span class="err">\</span>
<span class="o">/</span><span class="n">root</span>
<span class="o">/</span><span class="n">projects</span><span class="o">/</span>
</pre></div>

<p>When a template includes a root explicitly, like any of the above, then a template is limited to (1) a particular platform and (2) a particular mount on that platform.</p>
<p>For example, if your studio is exclusively on Windows and all share the drive <code class="codehilite"><span class="n">z</span><span class="p">:</span><span class="err">\</span></code>, then it is safe to embed this into your template.</p>
<div class="codehilite"><pre><span></span><span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;z:/projects/{project}/{asset}/...&quot;</span>
</pre></div>

<p>However, when there are multiple operating systems and/or multiple mount points - e.g. <code class="codehilite"><span class="n">z</span><span class="p">:</span><span class="err">\</span></code> on some machines and and <code class="codehilite"><span class="n">x</span><span class="p">:</span><span class="err">\</span></code> on others - then the above template no longer works.</p>
<p>To work around this, Avalon provides the idea of a "root" directory.</p>
<div class="codehilite"><pre><span></span><span class="c1"># Windows box, from our London branch</span>
<span class="kn">from</span> <span class="nn">avalon</span> <span class="kn">import</span> <span class="n">api</span>
<span class="n">api</span><span class="o">.</span><span class="n">register_root</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c:\projects&quot;</span><span class="p">)</span>
</pre></div>

<p>At run-time, a root directory is registered relative your platform and mount point, such that your template can look like..</p>
<div class="codehilite"><pre><span></span><span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;{root}/{project}{asset}...&quot;</span>
</pre></div>

<p>Such that, on another platform or machine, the root registration can change to account for a differing root.</p>
<div class="codehilite"><pre><span></span><span class="c1"># Linux box, in LA</span>
<span class="kn">from</span> <span class="nn">avalon</span> <span class="kn">import</span> <span class="n">api</span>
<span class="n">api</span><span class="o">.</span><span class="n">register_root</span><span class="p">(</span><span class="s2">&quot;/mnt/projects&quot;</span><span class="p">)</span>
</pre></div>

<p>As a result, your folder creation and publishing code can remain as-is, whilst assets are being read and written all over the place.</p>
<p><br>
<br>
<br></p>
<h2 id="environment-variables">Environment Variables</h2>
<p>Avalon uses environment variables extensively. For example, simply running an application involves two layers of information exchange.</p>
<ol>
<li>Your shell &gt; Launcher</li>
<li>Launcher &gt; Application</li>
</ol>
<p>In this documentation, environment variables are UPPERCASE and setting one is similar across all platforms.</p>
<div class="tabs">
  <button class="tab cmd" onclick="setTab(event, 'cmd')">
    <p>cmd</p><div class="tab-gap"></div>
  </button>
  <button class="tab bash " onclick="setTab(event, 'bash')">
    <p>bash</p><div class="tab-gap"></div>
  </button>
</div>

<div class="tab-content cmd">
<div class="codehilite"><pre><span></span><span class="k">set</span> <span class="nv">MY_VARIABLE</span><span class="p">=</span>value
</pre></div>

</div>
<div class="tab-content bash">
<div class="codehilite"><pre><span></span><span class="nb">export</span> <span class="nv">MY_VARIABLE</span><span class="o">=</span>value
</pre></div>

</div>
<p>Variables may also be set from within Python, by altering the <code class="codehilite"><span class="n">os</span><span class="p">.</span><span class="n">environ</span></code> dictionary.</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;MY_VARIABLE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;value&quot;</span>
</pre></div>

<h3 id="avalon-environment">Avalon Environment</h3>
<p>These are all environment variables relevant in some way to Avalon.</p>
<p><a href="https://github.com/getavalon/core/tree/master/avalon/schema/session-1.0.json" title="session-1.0.json" class="md-source-file">
session-1.0.json
</a></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;AVALON_APP&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of application&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_ASSET&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of asset&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_CONFIG&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of Avalon configuration&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_CONTAINER_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;Unique identifier for a loaded representation in a working file&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_DB&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of database&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_DEADLINE&quot;</span><span class="p">:</span> <span class="s2">&quot;Address to Deadline&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_DEBUG&quot;</span><span class="p">:</span> <span class="s2">&quot;Enable debugging mode. Some applications may use this for e.g. extended verbosity or mock plug-ins.&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_INSTANCE_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;Unique identifier for instances in a working file&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_LABEL&quot;</span><span class="p">:</span> <span class="s2">&quot;Nice name of Avalon, used in e.g. graphical user interfaces&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_MONGO&quot;</span><span class="p">:</span> <span class="s2">&quot;Address to the asset database&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_PASSWORD&quot;</span><span class="p">:</span> <span class="s2">&quot;Generic password&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_PROJECT&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of project&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_PROJECTS&quot;</span><span class="p">:</span> <span class="s2">&quot;Absolute path to root of project directories&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_SENTRY&quot;</span><span class="p">:</span> <span class="s2">&quot;Address to Sentry&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_SILO&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of asset group or container&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_TASK&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of task&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_TIMEOUT&quot;</span><span class="p">:</span> <span class="s2">&quot;Wherever there is a need for a timeout, this is the default value.&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_UPLOAD&quot;</span><span class="p">:</span> <span class="s2">&quot;Boolean of whether to upload published material to central asset repository&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_USERNAME&quot;</span><span class="p">:</span> <span class="s2">&quot;Generic username&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_WORKDIR&quot;</span><span class="p">:</span> <span class="s2">&quot;Current working directory of a host, such as Maya&#39;s location of workspace.mel&quot;</span>
<span class="p">}</span>
</pre></div>

<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;AVALON_APP&quot;</span><span class="p">:</span> <span class="s2">&quot;maya2016&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_ASSET&quot;</span><span class="p">:</span> <span class="s2">&quot;Bruce&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_CONFIG&quot;</span><span class="p">:</span> <span class="s2">&quot;polly&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_CONTAINER_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;avalon.container&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_DB&quot;</span><span class="p">:</span> <span class="s2">&quot;avalon&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_DEADLINE&quot;</span><span class="p">:</span> <span class="s2">&quot;http://192.168.99.101&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_DEBUG&quot;</span><span class="p">:</span> <span class="s2">&quot;True&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_INSTANCE_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;avalon.instance&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_LABEL&quot;</span><span class="p">:</span> <span class="s2">&quot;Mindbender&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_MONGO&quot;</span><span class="p">:</span> <span class="s2">&quot;mongodb://localhost:27017&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_PASSWORD&quot;</span><span class="p">:</span> <span class="s2">&quot;abc123&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_PROJECT&quot;</span><span class="p">:</span> <span class="s2">&quot;Hulk&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_PROJECTS&quot;</span><span class="p">:</span> <span class="s2">&quot;/nas/projects&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_SENTRY&quot;</span><span class="p">:</span> <span class="s2">&quot;https://5b872b280de742919b115bdc8da076a5:8d278266fe764361b8fa6024af004a9c@logs.mindbender.com/2&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_SILO&quot;</span><span class="p">:</span> <span class="s2">&quot;assets&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_TASK&quot;</span><span class="p">:</span> <span class="s2">&quot;modeling&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_TIMEOUT&quot;</span><span class="p">:</span> <span class="s2">&quot;1000&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_UPLOAD&quot;</span><span class="p">:</span> <span class="s2">&quot;True&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_USERNAME&quot;</span><span class="p">:</span> <span class="s2">&quot;myself&quot;</span><span class="p">,</span>
    <span class="nt">&quot;AVALON_WORKDIR&quot;</span><span class="p">:</span> <span class="s2">&quot;/mnt/projects/alita/assets/vector/maya&quot;</span>
<span class="p">}</span>
</pre></div>

<p><br></p>
<h3 id="inheritance-and-persistence">Inheritance and Persistence</h3>
<p>Setting a variable as above only affects the current instance of the process, such as <code class="codehilite"><span class="n">cmd</span><span class="p">.</span><span class="n">exe</span></code> and <code class="codehilite"><span class="n">python</span></code>. That's because variables are <em>inherited</em>.</p>
<p>Inheritance in this context means that any process launched from a parent process will contain a duplicate of the parent environment, and no change you make to the environment of this child process will affect the parent process.</p>
<div class="tabs">
  <button class="tab cmd" onclick="setTab(event, 'cmd')">
    <p>cmd</p><div class="tab-gap"></div>
  </button>
  <button class="tab bash " onclick="setTab(event, 'bash')">
    <p>bash</p><div class="tab-gap"></div>
  </button>
</div>

<div class="tab-content cmd">
<div class="codehilite"><pre><span></span><span class="k">set</span> <span class="nv">MY_VARIABLE</span><span class="p">=</span>value
cmd
<span class="k">echo</span> <span class="nv">%MY_VARIABLE%</span>
<span class="p">:</span><span class="c1">: value</span>
<span class="k">set</span> <span class="nv">CHILD_VARIABLE</span><span class="p">=</span>1
<span class="k">echo</span> <span class="nv">%CHILD_VARIABLE%</span>
<span class="p">:</span><span class="c1">: 1</span>
<span class="k">exit</span>
<span class="k">echo</span> <span class="nv">%CHILD_VARIABLE%</span>
<span class="p">:</span><span class="c1">: %CHILD_VARIABLE%</span>
</pre></div>

</div>
<div class="tab-content bash">
<div class="codehilite"><pre><span></span><span class="nb">export</span> <span class="nv">MY_VARIABLE</span><span class="o">=</span>value
cmd
<span class="nb">echo</span> <span class="nv">$MY_VARIABLE</span>
<span class="c1"># value</span>
<span class="nb">export</span> <span class="nv">CHILD_VARIABLE</span><span class="o">=</span><span class="m">1</span>
<span class="nb">echo</span> <span class="nv">$CHILD_VARIALBE</span>
<span class="c1"># 1</span>
<span class="nb">exit</span>
<span class="nb">echo</span> <span class="nv">$CHILD_VARIABLE</span>
<span class="c1"># </span>
</pre></div>

</div>
<p>Notice how <code class="codehilite"><span class="n">MY_VARIABLE</span></code> is available in the child process, but the variable created <em>within</em> the child process it <em>not</em> accessible from the parent process.</p>
<p>This concept is incredibly powerful and is how Avalon manages the individual environment variables for your projects and applications.</p>
<p><br></p>
<h3 id="path">PATH</h3>
<p>Some environment variables have special meaning to your operating system, <code class="codehilite"><span class="n">PATH</span></code> is one of them. It contains absolute paths from which executables are accessed.</p>
<p>That is, when you type <code class="codehilite"><span class="n">git</span></code> on the command-line, your operating system performs a search in each of the paths listed in <code class="codehilite"><span class="n">PATH</span></code> until it finds it.</p>
<p>If you wanted to expose an executable of your own, you can add the directory containing the executable to the <code class="codehilite"><span class="n">PATH</span></code>.</p>
<p><br></p>
<h3 id="pythonpath">PYTHONPATH</h3>
<p>Like <code class="codehilite"><span class="n">PATH</span></code>, <code class="codehilite"><span class="n">PYTHONPATH</span></code> is where Python looks for files during <code class="codehilite"><span class="n">import</span></code>.</p>
<p><br>
<br>
<br></p>
<h2 id="events">Events</h2>
<p>Attach callbacks to critical events throughout the use of Avalon.</p>
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">avalon</span> <span class="kn">import</span> <span class="n">api</span>

<span class="k">def</span> <span class="nf">on_event</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;An event happened&quot;</span><span class="p">)</span>

<span class="n">api</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;event&quot;</span><span class="p">,</span> <span class="n">on_event</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;event&quot;</span><span class="p">)</span>
</pre></div>

<table class="codehilitetable output">
  <tbody>
    <tr>
      <td class="code">
        <div class="codehilite" id="__code_1">
          <pre>
<span class="p">An event happened</span>          </pre>
        </div>
      </td>
    </tr>
  </tbody>
</table>

<p>Some events are called by Avalon.</p>
<ul>
<li><code class="codehilite"><span class="n">init</span></code> Called as early as possible during the initialisation of an application.</li>
<li><code class="codehilite"><span class="k">new</span></code> Called upon the creation of a new document/scene</li>
<li><code class="codehilite"><span class="n">save</span></code> Called upon saving a document/scene</li>
</ul>
<p><br>
<br></p>
<h3 id="custom-events">Custom Events</h3>
<p>Aside from the built-in events, you can emit your own events too.</p>
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">avalon</span> <span class="kn">import</span> <span class="n">api</span>

<span class="k">def</span> <span class="nf">create_alembic</span><span class="p">():</span>
    <span class="c1"># Creating alembic..</span>
    <span class="n">api</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;alembic_created&quot;</span><span class="p">)</span>
</pre></div>

<p><br>
<br>
<br></p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../tutorials/" title="Tutorials" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Tutorials
              </span>
            </div>
          </a>
        
        
          <a href="../tools/" title="Tools" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Tools
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="http://getavalon.github.io" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/getavalon" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://linkedin.com/in/marcusottosson" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascript/application.js"></script>
      
      
      <script>app.initialize({url:{base:"../.."}})</script>
      
    
    
      
      <script>!function(e,t,a,n,o,c,i){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,c=t.createElement(a),i=t.getElementsByTagName(a)[0],c.async=1,c.src=n,i.parentNode.insertBefore(c,i)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-101505233-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var t=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",t,e.href)})});var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})</script>
      
    
  </body>
</html>